<div class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50">
  <div class="bg-white rounded-xl shadow-lg p-8 w-full max-w-md relative text-gray-900">
    <button (click)="cerrar()" class="absolute top-4 right-4 text-gray-400 hover:text-primary-600 text-2xl">&times;</button>
    <h2 class="text-2xl font-bold mb-6 text-center">{{ modo === 'registro' ? 'Crear cuenta' : 'Iniciar sesiÃ³n' }}</h2>
    <form *ngIf="modo === 'registro'" (ngSubmit)="registrarUsuario()" autocomplete="off">
      <div class="mb-4">
        <label class="block mb-1 font-semibold">Nombre</label>
        <input type="text" [(ngModel)]="nombre" name="nombre" class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:border-primary-500" required>
      </div>
      <div class="mb-4">
        <label class="block mb-1 font-semibold">Apellido</label>
        <input type="text" [(ngModel)]="apellido" name="apellido" class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:border-primary-500" required>
      </div>
      <div class="mb-4">
        <label class="block mb-1 font-semibold">Username</label>
        <input type="text" [(ngModel)]="username" name="username" class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:border-primary-500" required>
      </div>
      <div class="mb-4">
        <label class="block mb-1 font-semibold">Correo electrÃ³nico</label>
        <input type="email" [(ngModel)]="email" name="email" class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:border-primary-500" required>
      </div>
      <div class="mb-4">
        <label class="block mb-1 font-semibold">Celular</label>
        <input type="text" [(ngModel)]="celular" name="celular" class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:border-primary-500" required>
      </div>
      <div class="mb-4">
        <label class="block mb-1 font-semibold">ContraseÃ±a</label>
        <div class="relative">
          <input [type]="showPassword ? 'text' : 'password'" [(ngModel)]="password" name="password" class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:border-primary-500 pr-10" required>
          <button type="button" (click)="togglePasswordVisibility('password')" class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 text-lg font-bold">
            {{ showPassword ? 'ğŸ‘ï¸' : 'ğŸ™ˆ' }}
          </button>
        </div>
      </div>
      <div class="mb-4">
        <label class="block mb-1 font-semibold">Confirmar contraseÃ±a</label>
        <div class="relative">
          <input [type]="showConfirmPassword ? 'text' : 'password'" [(ngModel)]="confirmPassword" name="confirmPassword" class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:border-primary-500 pr-10" required>
          <button type="button" (click)="togglePasswordVisibility('confirmPassword')" class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 text-lg font-bold">
            {{ showConfirmPassword ? 'ğŸ‘ï¸' : 'ğŸ™ˆ' }}
          </button>
        </div>
      </div>
      <div *ngIf="error" class="mb-4 text-red-600 text-sm">{{ error }}</div>
      <div *ngIf="mensaje" class="mb-4 text-green-600 text-sm">{{ mensaje }}</div>
      <button type="submit" class="btn-primary w-full">Registrarse</button>
      <div class="mt-4 text-center">
        <button type="button" (click)="alternarModo()" class="text-primary-600 hover:underline">Â¿Ya tienes cuenta? Inicia sesiÃ³n</button>
      </div>
    </form>
    <form *ngIf="modo === 'ingreso'" (ngSubmit)="ingresarUsuario()" autocomplete="off">
      <div class="mb-4">
        <label class="block mb-1 font-semibold">Correo electrÃ³nico</label>
        <input type="email" [(ngModel)]="emailLogin" name="emailLogin" class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:border-primary-500" required>
      </div>
      <div class="mb-4">
        <label class="block mb-1 font-semibold">ContraseÃ±a</label>
        <div class="relative">
          <input [type]="showPasswordLogin ? 'text' : 'password'" [(ngModel)]="passwordLogin" name="passwordLogin" class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:border-primary-500 pr-10" required>
          <button type="button" (click)="togglePasswordVisibility('passwordLogin')" class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 text-lg font-bold">
            {{ showPasswordLogin ? 'ğŸ‘ï¸' : 'ğŸ™ˆ' }}
          </button>
        </div>
      </div>
      <div *ngIf="error" class="mb-4 text-red-600 text-sm">{{ error }}</div>
      <div *ngIf="mensaje" class="mb-4 text-green-600 text-sm">{{ mensaje }}</div>
      <button type="submit" class="btn-primary w-full">Iniciar sesiÃ³n</button>
      <div class="mt-4 text-center">
        <button type="button" (click)="alternarModo()" class="text-primary-600 hover:underline">Â¿No tienes cuenta? RegÃ­strate</button>
      </div>
    </form>
  </div>
</div> 